<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../style/panier.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
    <title>Panier</title>
</head>

<body>
    <header>
        <div class="header-container">
            <div class="titre">
                <h1>Mon Panier</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="../index.html">Accueil</a></li>
                  
                    <li><a href="favoris.html">Favoris</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Section du panier -->
    <section class="panier">
        <h2>Ingrédients dans le panier</h2>
        <ul id="panier-list"></ul>
        <div id="panier-vide" style="display: none;">
            <p>Votre panier est vide.</p>
        </div>
    </section>

  
    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Happy Meal | Tous droits réservés</p>
            <div class="footer-links">
                <a href="#">À propos</a> | 
                <a href="#">Nos produits</a> | 
                <a href="#">Contactez-nous</a>
            </div>
            <div class="footer-socials">
                <a href="#" target="_blank"><i class="bi bi-facebook"></i></a>
                <a href="#" target="_blank"><i class="bi bi-instagram"></i></a>
                <a href="#" target="_blank"><i class="bi bi-twitter"></i></a>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Fonction pour charger et afficher les éléments du panier
        function afficherPanier() {
            const panier = JSON.parse(localStorage.getItem('panier')) || [];
            const panierList = document.getElementById('panier-list');
            const panierVide = document.getElementById('panier-vide');

            panierList.innerHTML = ''; // Réinitialiser la liste avant d'ajouter les nouveaux éléments

            if (panier.length === 0) {
                panierVide.style.display = 'block'; // Afficher le message "Panier vide"
            } else {
                panierVide.style.display = 'none'; // Cacher le message "Panier vide"
                panier.forEach((ingredient, index) => {
                    const li = document.createElement('li');
                    li.textContent = `${ingredient.nom}: ${ingredient.quantite}`;

                    const btnSupprimer = document.createElement('button');
                    btnSupprimer.textContent = "Supprimer";
                    btnSupprimer.classList.add('btn', 'btn-danger', 'ms-2');
                    btnSupprimer.onclick = () => supprimerDuPanier(index); // Supprimer l'élément

                    li.appendChild(btnSupprimer);
                    panierList.appendChild(li);
                });
            }
        }

        // Fonction pour supprimer un ingrédient du panier
        function supprimerDuPanier(index) {
            // Récupérer le panier existant depuis le localStorage
            let panier = JSON.parse(localStorage.getItem('panier')) || [];

            // Supprimer l'élément du panier
            panier.splice(index, 1);

            // Sauvegarder à nouveau dans le localStorage
            localStorage.setItem('panier', JSON.stringify(panier));

            // Mettre à jour l'affichage du panier
            afficherPanier();
        }

        // Charger le panier lorsque la page est chargée
        window.onload = afficherPanier;
    </script>
</body>

</html>
